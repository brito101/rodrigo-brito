class SimpleAnime{constructor(){this.items=document.querySelectorAll("[data-anime]")}animateItems(){this.items.forEach((e=>{const t=Number(e.getAttribute("data-anime"));Number.isNaN(t)||setTimeout((()=>{e.classList.add("anime")}),t)}))}handleVisibility(){void 0!==document.visibilityState?"visible"===document.visibilityState&&this.animateItems():this.animateItems()}init(){this.handleVisibility=this.handleVisibility.bind(this),this.handleVisibility(),document.addEventListener("visibilitychange",this.handleVisibility)}}const anime=new SimpleAnime;anime.init();const button=document.querySelector(".smoothscroll-top");button&&(document.addEventListener("scroll",(()=>{window.pageYOffset>100?button.classList.add("show"):button.classList.remove("show")})),button.addEventListener("click",(()=>{window.scroll({top:0,behavior:"smooth"})})));const cookieButton=document.querySelectorAll("#cookieConsent [data-action]");function fadeOut(e){let t=1;const n=setInterval((()=>{t>0?(e.style.opacity=t,t-=.1):(clearInterval(n),e.remove())}),25)}function fadeIn(e){let t=0;const n=setInterval((()=>{t<1?(e.style.opacity=t,t+=.1):clearInterval(n)}),25)}function checkFades(e){e.forEach((e=>{parseInt(.75*window.innerHeight,10)>=e.getBoundingClientRect().top&&"0"===e.style.opacity&&fadeIn(e)}))}cookieButton&&cookieButton.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),fetch(e.dataset.action,{method:"POST",body:new URLSearchParams({cookie:e.dataset.cookie})}).then((e=>e.json())).then((t=>{fadeOut(e.parentElement),t.gtmHead&&document.querySelector("head").insertAdjacentHTML("beforeend",t.gtmHead),t.gtmBody&&document.querySelector("body").insertAdjacentHTML("afterbegin",t.gtmBody)}))}))}));const fadeInScroll=document.querySelectorAll(".fadeInScrool");fadeInScroll&&(fadeInScroll.forEach((e=>{e.style.opacity=0})),checkFades(fadeInScroll),window.addEventListener("scroll",(()=>{let e;e&&clearTimeout(e),e=setTimeout((()=>{checkFades(fadeInScroll),e=null}),200)})));const openButton=document.querySelector(".j_menu_mobile_open"),closeButton=document.querySelector(".j_menu_mobile_close"),menuMobile=document.querySelector(".j_menu_mobile_tab");function animateOpen(e){let t=100;const n=setInterval((()=>{t>70?(e.style.left=`${t}%`,t-=5):(clearInterval(n),e.style.left="auto",e.style.right="0")}),25)}function animateClose(e){let t=70;const n=setInterval((()=>{t<=100?(e.style.left=`${t}%`,t+=5):(clearInterval(n),e.style.right="auto",e.style.display="none")}),25)}function closeMenu(){animateClose(menuMobile)}openButton.addEventListener("click",(e=>{e.preventDefault(),animateOpen(menuMobile)})),document.querySelector("body").addEventListener("touchstart",(e=>{e.preventDefault();const t=e.target.classList.contains("j_menu_mobile_open"),n=e.target.offsetParent.classList.contains("j_menu_mobile_tab"),o=e.target.offsetParent.classList.contains("dropdown-menu"),i=e.target.classList.contains("link");t||n||o||i||"auto"===menuMobile.style.left&&closeMenu()})),closeButton.addEventListener("click",(e=>{e.preventDefault(),closeMenu()})),"serviceWorker"in navigator?navigator.serviceWorker.register("/sw.js",{scope:"./"}).then((e=>{console.log("Service worker registrado com sucesso:",e)})).catch((e=>{console.log("Service worker falhou ao registrar:",e)})):console.log("Service workers não é suportado pelo navegador!");
